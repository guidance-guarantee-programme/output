<%
  options = {}

  if local_assigns[:url]
    options[:url]    = local_assigns[:url]
    options[:method] = local_assigns.fetch(:method) { :post }
  end
%>
<%= form_for local_assigns.fetch(:appointment_summary), options do |f| %>

  <% AppointmentSummary.editable_column_names.each do |field| %>
    <%= f.hidden_field field %>
  <% end %>

  <%= f.submit local_assigns.fetch(:submit_button_text),
    class: (%w(btn btn-lg) | Array(local_assigns[:submit_button_classes])),
    data: { disable_with: 'Please wait...' } %>
<% end %>
